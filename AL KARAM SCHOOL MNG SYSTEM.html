<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AL KARAM MODEL HIGH SCHOOL - Private Portal</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #f8f9fa; font-family: Arial, sans-serif; }
        .container { max-width: 800px; margin: 50px auto; padding: 20px; background: white; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        .hidden { display: none; }
        .school-header { text-align: center; color: #007bff; margin-bottom: 20px; }
        .logout-btn { position: absolute; top: 10px; right: 10px; }
    </style>
</head>
<body>
    <div id="login" class="container">
        <h2 class="school-header">AL KARAM MODEL HIGH SCHOOL</h2>
        <h4>Private Portal Login</h4>
        <form id="loginForm">
            <div class="mb-3">
                <label for="username" class="form-label">Username</label>
                <input type="text" class="form-control" id="username" required>
            </div>
            <div class="mb-3">
                <label for="password" class="form-label">Password</label>
                <input type="password" class="form-control" id="password" required>
            </div>
            <button type="submit" class="btn btn-primary">Login</button>
        </form>
        <div id="loginError" class="text-danger mt-3 hidden">Invalid credentials!</div>
    </div>

    <div id="dashboard" class="container hidden">
        <button class="btn btn-danger logout-btn" onclick="logout()">Logout</button>
        <h2 class="school-header">AL KARAM MODEL HIGH SCHOOL Dashboard</h2>
        
        <h4>Total Students in Full School: <span id="totalStudents">0</span></h4>
        
        <h5>Students by Class:</h5>
        <ul id="classList" class="list-group mb-4"></ul>
        
        <h5>Add New Student</h5>
        <form id="addStudentForm">
            <div class="mb-3">
                <label for="studentName" class="form-label">Student Name</label>
                <input type="text" class="form-control" id="studentName" required>
            </div>
            <div class="mb-3">
                <label for="studentClass" class="form-label">Class</label>
                <select class="form-control" id="studentClass" required>
                    <option value="">Select Class</option>
                    <option value="Play Group">Play Group</option>
                    <option value="Nursery">Nursery</option>
                    <option value="prep">prep</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                </select>
            </div>
            <button type="submit" class="btn btn-success">Add Student</button>
        </form>
        
        <div id="addedStudent" class="mt-3 hidden">
            <h6>Added Student Details:</h6>
            <p>Name: <span id="addedName"></span></p>
            <p>Class: <span id="addedClass"></span></p>
            <p>Roll Number: <span id="addedRoll"></span></p>
        </div>
    </div>

    <script>
        const validUsername = 'HUSSAIN AHMED';
        const validPassword = 'hu33ain';
        const classes = ['Play Group', 'Nursery',  'prep', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10'];
        let students = JSON.parse(localStorage.getItem('students')) || {};

        // Initialize students object if empty
        classes.forEach(cls => {
            if (!students[cls]) students[cls] = [];
        });

        // Login
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            if (username === validUsername && password === validPassword) {
                localStorage.setItem('loggedIn', 'true');
                showDashboard();
            } else {
                document.getElementById('loginError').classList.remove('hidden');
            }
        });

        // Logout
        function logout() {
            localStorage.removeItem('loggedIn');
            location.reload();
        }

        // Show Dashboard
        function showDashboard() {
            document.getElementById('login').classList.add('hidden');
            document.getElementById('dashboard').classList.remove('hidden');
            updateDisplay();
        }

        // Update Display
        function updateDisplay() {
            let total = 0;
            const classList = document.getElementById('classList');
            classList.innerHTML = '';
            classes.forEach(cls => {
                const count = students[cls].length;
                total += count;
                const li = document.createElement('li');
                li.className = 'list-group-item';
                li.textContent = `${cls}: ${count} students`;
                classList.appendChild(li);
            });
            document.getElementById('totalStudents').textContent = total;
            localStorage.setItem('students', JSON.stringify(students));
        }

        // Add Student
        document.getElementById('addStudentForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const name = document.getElementById('studentName').value;
            const cls = document.getElementById('studentClass').value;
            const roll = students[cls].length + 1; // Auto-assign roll number
            students[cls].push({ name, roll });
            updateDisplay();
            
            // Show added student details (only for this class)
            document.getElementById('addedName').textContent = name;
            document.getElementById('addedClass').textContent = cls;
            document.getElementById('addedRoll').textContent = roll;
            document.getElementById('addedStudent').classList.remove('hidden');
            
            // Reset form
            document.getElementById('addStudentForm').reset();
        });

        // Check login on load
        if (localStorage.getItem('loggedIn') === 'true') {
            showDashboard();
        }
    </script>
</body>
</html>